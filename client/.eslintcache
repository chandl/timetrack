[{"/Users/chandler/Documents/Projects/timetrack/client/src/index.js":"1","/Users/chandler/Documents/Projects/timetrack/client/src/reportWebVitals.js":"2","/Users/chandler/Documents/Projects/timetrack/client/src/App.js":"3","/Users/chandler/Documents/Projects/timetrack/client/src/components/AppHeader.js":"4","/Users/chandler/Documents/Projects/timetrack/client/src/pages/Home.js":"5","/Users/chandler/Documents/Projects/timetrack/client/src/pages/TimeManager.js":"6","/Users/chandler/Documents/Projects/timetrack/client/src/components/ErrorSnackbar.js":"7","/Users/chandler/Documents/Projects/timetrack/client/src/components/TimeEditor.js":"8","/Users/chandler/Documents/Projects/timetrack/client/src/components/ManagerComponent.js":"9","/Users/chandler/Documents/Projects/timetrack/client/src/pages/ReportManager.js":"10","/Users/chandler/Documents/Projects/timetrack/client/src/components/ReportCreator.js":"11","/Users/chandler/Documents/Projects/timetrack/client/src/components/ReportEditor.js":"12","/Users/chandler/Documents/Projects/timetrack/client/src/components/StepperModal.js":"13","/Users/chandler/Documents/Projects/timetrack/client/src/components/ConfirmDialog.js":"14"},{"size":515,"mtime":1609114857173,"results":"15","hashOfConfig":"16"},{"size":364,"mtime":1609114857322,"results":"17","hashOfConfig":"16"},{"size":913,"mtime":1609142904877,"results":"18","hashOfConfig":"16"},{"size":778,"mtime":1609114857082,"results":"19","hashOfConfig":"16"},{"size":173,"mtime":1609114857184,"results":"20","hashOfConfig":"16"},{"size":6893,"mtime":1609282796909,"results":"21","hashOfConfig":"16"},{"size":1343,"mtime":1609114857108,"results":"22","hashOfConfig":"16"},{"size":4409,"mtime":1609114857157,"results":"23","hashOfConfig":"16"},{"size":1041,"mtime":1609282796577,"results":"24","hashOfConfig":"16"},{"size":7002,"mtime":1609279520001,"results":"25","hashOfConfig":"16"},{"size":2660,"mtime":1609234281172,"results":"26","hashOfConfig":"16"},{"size":5343,"mtime":1609282796700,"results":"27","hashOfConfig":"16"},{"size":2587,"mtime":1609282796733,"results":"28","hashOfConfig":"16"},{"size":1277,"mtime":1609236951995,"results":"29","hashOfConfig":"16"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},"1pg95bi",{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"55"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/chandler/Documents/Projects/timetrack/client/src/index.js",[],["60","61"],"/Users/chandler/Documents/Projects/timetrack/client/src/reportWebVitals.js",[],"/Users/chandler/Documents/Projects/timetrack/client/src/App.js",[],"/Users/chandler/Documents/Projects/timetrack/client/src/components/AppHeader.js",[],"/Users/chandler/Documents/Projects/timetrack/client/src/pages/Home.js",[],"/Users/chandler/Documents/Projects/timetrack/client/src/pages/TimeManager.js",[],"/Users/chandler/Documents/Projects/timetrack/client/src/components/ErrorSnackbar.js",[],"/Users/chandler/Documents/Projects/timetrack/client/src/components/TimeEditor.js",[],"/Users/chandler/Documents/Projects/timetrack/client/src/components/ManagerComponent.js",[],"/Users/chandler/Documents/Projects/timetrack/client/src/pages/ReportManager.js",[],"/Users/chandler/Documents/Projects/timetrack/client/src/components/ReportCreator.js",[],"/Users/chandler/Documents/Projects/timetrack/client/src/components/ReportEditor.js",["62","63","64","65"],"import React, { useEffect } from \"react\";\nimport { compose } from \"recompose\";\nimport { withRouter } from \"react-router-dom\";\nimport {\n  Button,\n  Card,\n  CardActions,\n  CardContent,\n  Typography,\n  withStyles,\n} from \"@material-ui/core\";\nimport StepperModal from \"./StepperModal\";\nimport { Fetch, formatMinutes } from \"./ManagerComponent\";\n\nconst styles = (theme) => ({\n  marginTop: {\n    marginTop: theme.spacing(2),\n  },\n  card: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    margin: theme.spacing(2),\n  },\n});\n\nconst getReport = async (reportId) => {\n  return Fetch(\"get\", `/report/${reportId}`)\n    .then((res) => res)\n    .catch((err) => {\n      this.setState({ error: err });\n    });\n};\n\nconst ReportOverview = ({ classes, report }) => {\n  const weeklyTimes = report.details.map((week) => {\n    let time = 0;\n    let billableTime = 0;\n    week.customers.forEach((cust) =>\n      cust.times.forEach((t) => {\n        time += t.minutes;\n        if (t.billable) billableTime += t.minutes;\n      })\n    );\n    return {\n      all: time,\n      billable: billableTime,\n    };\n  });\n\n  const billableTime = weeklyTimes\n    .map((a) => a.billable)\n    .reduce((a, b) => a + b);\n  const totalTime = weeklyTimes.map((a) => a.all).reduce((a, b) => a + b);\n\n  let week = 1;\n  return (\n    <div>\n      <Typography variant=\"h4\">Review Report</Typography>\n      {/* {JSON.stringify(report)} */}\n      <div className={classes.card}>\n        <ReportCard\n          title=\"General Info\"\n          content={\n            <div>\n              <Typography component=\"p\">ID: {report.id}</Typography>\n              <Typography component=\"p\">\n                Start Date: {report.startDate}\n              </Typography>\n              <Typography component=\"p\">End Date: {report.endDate}</Typography>\n              <Typography component=\"p\">\n                Weeks: {report.details.length}\n              </Typography>\n              <Typography component=\"p\">\n                Billable Time: {formatMinutes(billableTime)}\n              </Typography>\n              <Typography component=\"p\">\n                Total Time: {formatMinutes(totalTime)}\n              </Typography>\n            </div>\n          }\n        />\n\n        {report.details.map((detail) => {\n          return (\n            <ReportCard\n              title={`Week ${week++}`}\n              content={\n                <div>\n                  <Typography component=\"p\">\n                    Start Date: {detail.startDate}\n                  </Typography>\n                  <Typography component=\"p\">\n                    End Date: {detail.endDate}\n                  </Typography>\n                  <Typography component=\"p\">\n                    Customers:{\" \"}\n                    {detail.customers.length > 0\n                      ? detail.customers.map((cust) => cust.customer).join(\", \")\n                      : \"N/A\"}\n                  </Typography>\n                  <Typography component=\"p\">\n                    Billable Time:{\" \"}\n                    {formatMinutes(weeklyTimes[week - 2].billable)}\n                  </Typography>\n                  <Typography component=\"p\">\n                    Total Time: {formatMinutes(weeklyTimes[week - 2].all)}\n                  </Typography>\n                </div>\n              }\n            />\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\nconst ReportCard = ({ title, content }) => {\n  return (\n    <Card>\n      <CardContent>\n        <Typography color=\"textSecondary\" variant=\"h5\" gutterBottom>\n          {title}\n        </Typography>\n        <Typography variant=\"body2\" component=\"p\">\n          {content}\n        </Typography>\n      </CardContent>\n    </Card>\n  );\n};\n\nconst ReportEditor = ({ classes, report, onSave, history }) => {\n  const [activeReport, setActiveReport] = React.useState();\n  const [steps, setSteps] = React.useState();\n\n  useEffect(() => {\n    getReport(report.id).then((rep) => {\n      setActiveReport(rep);\n      setSteps(generateSteps(rep));\n    });\n  }, [report.id]);\n\n  const generateSteps = (report) => {\n    let i = 1;\n    const weeklyReview = report.details.map((week) => {\n      return {\n        name: `Review Week ${i++}`,\n        content: (\n          <div>\n            Review week <br /> {JSON.stringify(week)}\n          </div>\n        ),\n        validate: () => Promise.resolve(),\n        complete: () => Promise.resolve(),\n        isEnabled: () => true,\n      };\n    });\n\n    return [\n      {\n        name: \"Report Overview\",\n        content: <ReportOverview classes={classes} report={report} />,\n        validate: () => Promise.resolve(),\n        complete: () => Promise.resolve(),\n        isEnabled: () => true,\n      },\n    ]\n      .concat(weeklyReview)\n      .concat([\n        {\n          name: \"Finalize Report\",\n          content: (\n            <div>\n              <p>Finalize Report</p>\n              <br /> TODO\n            </div>\n          ),\n          validate: () => Promise.resolve(),\n          complete: () => Promise.resolve(),\n          isEnabled: () => true,\n        },\n      ]);\n  };\n\n  return steps ? (\n    <StepperModal\n      classes={classes}\n      history={history}\n      onSave={() => onSave(report)}\n      onClose={() => onSave(report)}\n      steps={steps}\n    />\n  ) : (\n    <span>Loading steps...</span>\n  );\n};\n\nexport default compose(withRouter, withStyles(styles))(ReportEditor);\n","/Users/chandler/Documents/Projects/timetrack/client/src/components/StepperModal.js",[],"/Users/chandler/Documents/Projects/timetrack/client/src/components/ConfirmDialog.js",[],{"ruleId":"66","replacedBy":"67"},{"ruleId":"68","replacedBy":"69"},{"ruleId":"70","severity":1,"message":"71","line":4,"column":10,"nodeType":"72","messageId":"73","endLine":4,"endColumn":16},{"ruleId":"70","severity":1,"message":"74","line":4,"column":24,"nodeType":"72","messageId":"73","endLine":4,"endColumn":35},{"ruleId":"70","severity":1,"message":"75","line":98,"column":10,"nodeType":"72","messageId":"73","endLine":98,"endColumn":22},{"ruleId":"76","severity":1,"message":"77","line":106,"column":6,"nodeType":"78","endLine":106,"endColumn":17,"suggestions":"79"},"no-native-reassign",["80"],"no-negated-in-lhs",["81"],"no-unused-vars","'Button' is defined but never used.","Identifier","unusedVar","'CardActions' is defined but never used.","'activeReport' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'generateSteps'. Either include it or remove the dependency array.","ArrayExpression",["82"],"no-global-assign","no-unsafe-negation",{"desc":"83","fix":"84"},"Update the dependencies array to be: [generateSteps, report.id]",{"range":"85","text":"86"},[3410,3421],"[generateSteps, report.id]"]